<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Daniel Castiblanco - Consultor de IA especializado en RAG, automatización y soluciones empresariales">
    <title>Daniel Castiblanco - Consultor de IA</title>
    
    <!-- Preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fuentes Matrix -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Share+Tech+Mono:wght@400&display=swap" rel="stylesheet">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="styles/matrix-theme.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
</head>
<body>
    <!-- Matrix Rain Background -->
    <canvas id="matrixRain"></canvas>
    
    <!-- Starfield Background -->
    <canvas id="starfield"></canvas>
    

    <!-- Caja base del gato con puntuación -->
    <div id="catHome" class="cat-home">
        <div class="cat-home-border"></div>
        <div class="cat-home-text">Cat Base</div>
        <div id="catScore" class="cat-score">Score: 0</div>
    </div>
    
    <!-- CatDC.ai Flotante -->
    <div id="floatingCat" class="floating-cat">
        <svg id="aiCat" viewBox="0 0 400 400" class="ai-cat">
            <defs>
                <radialGradient id="catGradient" cx="50%" cy="50%" r="50%">
                    <stop offset="0%" stop-color="#1a2b1a"/>
                    <stop offset="100%" stop-color="#0f1f0f"/>
                </radialGradient>
                <filter id="glow">
                    <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                    <feMerge> 
                        <feMergeNode in="coloredBlur"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
            </defs>
            
            <!-- Cuerpo del gato -->
            <g class="cat-body">
                <!-- Cabeza principal -->
                <circle cx="200" cy="200" r="120" fill="url(#catGradient)" stroke="#00ff41" stroke-width="3"/>
                
                <!-- Orejas -->
                <polygon points="140,140 120,100 160,120" fill="url(#catGradient)" stroke="#00ff41" stroke-width="2"/>
                <polygon points="240,120 280,100 260,140" fill="url(#catGradient)" stroke="#00ff41" stroke-width="2"/>
                
                <!-- Orejas internas -->
                <polygon points="145,125 135,110 155,115" fill="#00ff41" opacity="0.3"/>
                <polygon points="255,115 275,110 265,125" fill="#00ff41" opacity="0.3"/>
                
                <!-- Ojos -->
                <circle cx="170" cy="180" r="20" fill="#000" opacity="0.8"/>
                <circle cx="230" cy="180" r="20" fill="#000" opacity="0.8"/>
                
                <!-- Pupilas que siguen el mouse -->
                <circle class="pupil-left" cx="170" cy="180" r="12" fill="#00ff41" opacity="0.9"/>
                <circle class="pupil-right" cx="230" cy="180" r="12" fill="#00ff41" opacity="0.9"/>
                
                <!-- Reflejos en los ojos -->
                <circle cx="175" cy="175" r="4" fill="#26d467" opacity="0.8"/>
                <circle cx="235" cy="175" r="4" fill="#26d467" opacity="0.8"/>
                
                <!-- Eyelid para parpadeo -->
                <g class="eyelid" style="transform: scaleY(0); transform-origin: center;">
                    <rect x="150" y="160" width="40" height="40" fill="url(#catGradient)" rx="20"/>
                    <rect x="210" y="160" width="40" height="40" fill="url(#catGradient)" rx="20"/>
                </g>
                
                <!-- Nariz -->
                <polygon points="200,210 195,220 205,220" fill="#00ff41" opacity="0.7"/>
                
                <!-- Boca -->
                <path d="M200,220 Q190,230 180,225" fill="none" stroke="#00ff41" stroke-width="2" opacity="0.7"/>
                <path d="M200,220 Q210,230 220,225" fill="none" stroke="#00ff41" stroke-width="2" opacity="0.7"/>
                
                <!-- Bigotes (EXTERNOS a la cabeza) -->
                <line x1="70" y1="190" x2="120" y2="185" stroke="#00ff41" stroke-width="2" opacity="0.6"/>
                <line x1="70" y1="200" x2="120" y2="200" stroke="#00ff41" stroke-width="2" opacity="0.6"/>
                <line x1="70" y1="210" x2="120" y2="215" stroke="#00ff41" stroke-width="2" opacity="0.6"/>
                
                <line x1="280" y1="185" x2="330" y2="190" stroke="#00ff41" stroke-width="2" opacity="0.6"/>
                <line x1="280" y1="200" x2="330" y2="200" stroke="#00ff41" stroke-width="2" opacity="0.6"/>
                <line x1="280" y1="215" x2="330" y2="210" stroke="#00ff41" stroke-width="2" opacity="0.6"/>
                
                <!-- Detalles ciborg -->
                <rect x="160" y="160" width="8" height="3" fill="#00ff41" opacity="0.8" rx="1"/>
                <rect x="232" y="160" width="8" height="3" fill="#00ff41" opacity="0.8" rx="1"/>
                
                <!-- Antena pequeña -->
                <line x1="200" y1="80" x2="200" y2="100" stroke="#00ff41" stroke-width="2"/>
                <circle cx="200" cy="80" r="3" fill="#26d467"/>
            </g>
            
            <!-- Efectos de actividad -->
            <g class="activity-indicators" opacity="0.6">
                <circle cx="150" cy="150" r="2" fill="#00ff41">
                    <animate attributeName="opacity" values="0;1;0" dur="2s" repeatCount="indefinite"/>
                </circle>
                <circle cx="250" cy="150" r="2" fill="#00ff41">
                    <animate attributeName="opacity" values="0;1;0" dur="1.5s" repeatCount="indefinite"/>
                </circle>
            </g>
        </svg>
    </div>

    <!-- Contenido principal -->
    <main class="main-container">
        <div class="content">

            <!-- Hero Section -->
            <section class="hero">
                <div class="greeting">
                    <span class="matrix-text">DANIEL CASTIBLANCO</span>
                </div>
                
                <h1 class="hero-title">
                    Consultor de <span class="matrix-highlight">IA</span>
                    <br>
                    <span style="font-size: 0.7em; opacity: 0.9;">
                        Para <span class="matrix-highlight">PERSONAS</span> 
                        y <span class="matrix-highlight">NEGOCIOS</span>
                    </span>
                </h1>
                
            </section>

            <!-- Servicios Section -->
            <section class="services-section">
                <h2 class="services-title">
                    <span class="matrix-highlight">Especialidades</span> de Consultoría
                </h2>
                
                <div class="services-grid">
                    <!-- Fila 1 -->
                    <div class="service-item" data-service="rag" data-cat-position="1">
                        <div class="service-icon">
                            <svg viewBox="0 0 100 100" class="service-svg">
                                <defs>
                                    <linearGradient id="ragGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" stop-color="#00d455"/>
                                        <stop offset="100%" stop-color="#26d467"/>
                                    </linearGradient>
                                </defs>
                                <!-- Database stack -->
                                <ellipse cx="50" cy="25" rx="35" ry="8" fill="url(#ragGradient)" opacity="0.8"/>
                                <ellipse cx="50" cy="40" rx="35" ry="8" fill="url(#ragGradient)" opacity="0.6"/>
                                <ellipse cx="50" cy="55" rx="35" ry="8" fill="url(#ragGradient)" opacity="0.4"/>
                                <!-- Search rays -->
                                <path d="M20 70 L35 55 M65 55 L80 70 M50 75 L50 90" stroke="#00d455" stroke-width="3" opacity="0.9"/>
                                <!-- Brain connection -->
                                <circle cx="50" cy="80" r="12" fill="none" stroke="#26d467" stroke-width="2"/>
                                <circle cx="50" cy="80" r="6" fill="#00d455" opacity="0.7">
                                    <animate attributeName="opacity" values="0.7;1;0.7" dur="2s" repeatCount="indefinite"/>
                                </circle>
                            </svg>
                        </div>
                        <h3>RAG Systems</h3>
                    </div>
                    
                    <div class="service-item" data-service="agents" data-cat-position="2">
                        <div class="service-icon">
                            <svg viewBox="0 0 100 100" class="service-svg">
                                <defs>
                                    <linearGradient id="agentGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" stop-color="#00d455"/>
                                        <stop offset="100%" stop-color="#26d467"/>
                                    </linearGradient>
                                </defs>
                                <!-- Central orchestrator -->
                                <circle cx="50" cy="50" r="15" fill="url(#agentGradient)"/>
                                <!-- Agent nodes -->
                                <circle cx="25" cy="25" r="8" fill="#00d455" opacity="0.8"/>
                                <circle cx="75" cy="25" r="8" fill="#00d455" opacity="0.8"/>
                                <circle cx="25" cy="75" r="8" fill="#00d455" opacity="0.8"/>
                                <circle cx="75" cy="75" r="8" fill="#00d455" opacity="0.8"/>
                                <!-- Connections -->
                                <line x1="35" y1="35" x2="42" y2="42" stroke="#26d467" stroke-width="2"/>
                                <line x1="65" y1="35" x2="58" y2="42" stroke="#26d467" stroke-width="2"/>
                                <line x1="35" y1="65" x2="42" y2="58" stroke="#26d467" stroke-width="2"/>
                                <line x1="65" y1="65" x2="58" y2="58" stroke="#26d467" stroke-width="2"/>
                                <!-- Pulse animation -->
                                <circle cx="50" cy="50" r="20" fill="none" stroke="#00d455" stroke-width="1" opacity="0">
                                    <animate attributeName="r" values="15;30;15" dur="3s" repeatCount="indefinite"/>
                                    <animate attributeName="opacity" values="0.8;0;0.8" dur="3s" repeatCount="indefinite"/>
                                </circle>
                            </svg>
                        </div>
                        <h3>Agent Orchestration</h3>
                    </div>
                    
                    <div class="service-item" data-service="automation" data-cat-position="3">
                        <div class="service-icon">
                            <svg viewBox="0 0 100 100" class="service-svg">
                                <defs>
                                    <linearGradient id="autoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" stop-color="#00d455"/>
                                        <stop offset="100%" stop-color="#26d467"/>
                                    </linearGradient>
                                </defs>
                                <!-- Gears -->
                                <g transform="translate(35,35)">
                                    <circle cx="15" cy="15" r="12" fill="none" stroke="url(#autoGradient)" stroke-width="3"/>
                                    <polygon points="15,3 18,8 23,8 19,12 21,17 15,14 9,17 11,12 7,8 12,8" fill="url(#autoGradient)"/>
                                    <animateTransform attributeName="transform" attributeType="XML" type="rotate" values="0 50 50;360 50 50" dur="4s" repeatCount="indefinite"/>
                                </g>
                                <g transform="translate(50,50)">
                                    <circle cx="15" cy="15" r="10" fill="none" stroke="url(#autoGradient)" stroke-width="3"/>
                                    <polygon points="15,5 17,9 21,9 18,12 19,16 15,14 11,16 12,12 9,9 13,9" fill="url(#autoGradient)"/>
                                    <animateTransform attributeName="transform" attributeType="XML" type="rotate" values="360 65 65;0 65 65" dur="3s" repeatCount="indefinite"/>
                                </g>
                                <!-- Flow arrows -->
                                <path d="M20 80 L40 80 L35 75 M35 85 L40 80 L60 80 L55 75 M55 85 L60 80 L80 80 L75 75 M75 85 L80 80" 
                                      stroke="#26d467" stroke-width="2" fill="none" opacity="0.8"/>
                            </svg>
                        </div>
                        <h3>Process Automation</h3>
                    </div>
                    
                    <!-- Fila 2 -->
                    <div class="service-item" data-service="local-llm" data-cat-position="4">
                        <div class="service-icon">
                            <svg viewBox="0 0 100 100" class="service-svg">
                                <defs>
                                    <linearGradient id="localGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" stop-color="#00d455"/>
                                        <stop offset="100%" stop-color="#26d467"/>
                                    </linearGradient>
                                </defs>
                                <!-- Server/Computer -->
                                <rect x="25" y="40" width="50" height="30" rx="5" fill="none" stroke="url(#localGradient)" stroke-width="3"/>
                                <rect x="30" y="45" width="40" height="20" fill="url(#localGradient)" opacity="0.3"/>
                                <!-- CPU/Brain -->
                                <circle cx="50" cy="55" r="8" fill="url(#localGradient)" opacity="0.8"/>
                                <path d="M45 50 Q50 45 55 50 Q50 60 45 55 Q50 50 55 55" fill="#26d467"/>
                                <!-- Shield (privacy) -->
                                <path d="M50 20 L40 25 Q40 35 50 40 Q60 35 60 25 Z" fill="none" stroke="#00d455" stroke-width="2"/>
                                <path d="M45 30 L48 33 L55 26" stroke="#26d467" stroke-width="2" fill="none"/>
                                <!-- Data flow -->
                                <circle cx="35" cy="80" r="2" fill="#00d455">
                                    <animate attributeName="cy" values="80;45;80" dur="2s" repeatCount="indefinite"/>
                                </circle>
                                <circle cx="65" cy="80" r="2" fill="#00d455">
                                    <animate attributeName="cy" values="80;45;80" dur="2.5s" repeatCount="indefinite"/>
                                </circle>
                            </svg>
                        </div>
                        <h3>Local LLMs</h3>
                    </div>
                    
                    <div class="service-item" data-service="finops" data-cat-position="5">
                        <div class="service-icon">
                            <svg viewBox="0 0 100 100" class="service-svg">
                                <defs>
                                    <linearGradient id="finGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" stop-color="#00d455"/>
                                        <stop offset="100%" stop-color="#26d467"/>
                                    </linearGradient>
                                </defs>
                                <!-- Dollar sign -->
                                <text x="30" y="45" font-family="Orbitron" font-size="20" fill="url(#finGradient)" font-weight="bold">$</text>
                                <!-- Chart/Graph -->
                                <polyline points="20,70 30,60 40,65 50,50 60,55 70,40 80,45" 
                                         fill="none" stroke="url(#finGradient)" stroke-width="3"/>
                                <!-- Chart points -->
                                <circle cx="30" cy="60" r="2" fill="#26d467"/>
                                <circle cx="50" cy="50" r="2" fill="#26d467"/>
                                <circle cx="70" cy="40" r="2" fill="#26d467"/>
                                <!-- Optimization arrows -->
                                <path d="M55 25 L65 25 L60 20 M60 30 L65 25 L70 25" stroke="#00d455" stroke-width="2" fill="none"/>
                                <!-- AI chip -->
                                <rect x="60" y="60" width="15" height="15" rx="2" fill="none" stroke="#26d467" stroke-width="1"/>
                                <circle cx="67.5" cy="67.5" r="3" fill="#00d455" opacity="0.7">
                                    <animate attributeName="opacity" values="0.7;1;0.7" dur="2s" repeatCount="indefinite"/>
                                </circle>
                            </svg>
                        </div>
                        <h3>FinOps AI</h3>
                    </div>
                    
                    <div class="service-item" data-service="integrations" data-cat-position="6">
                        <div class="service-icon">
                            <svg viewBox="0 0 100 100" class="service-svg">
                                <defs>
                                    <linearGradient id="intGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" stop-color="#00d455"/>
                                        <stop offset="100%" stop-color="#26d467"/>
                                    </linearGradient>
                                </defs>
                                <!-- Central hub -->
                                <circle cx="50" cy="50" r="12" fill="url(#intGradient)"/>
                                <!-- Connected systems -->
                                <rect x="10" y="10" width="15" height="15" rx="3" fill="none" stroke="#00d455" stroke-width="2"/>
                                <rect x="75" y="10" width="15" height="15" rx="3" fill="none" stroke="#00d455" stroke-width="2"/>
                                <rect x="10" y="75" width="15" height="15" rx="3" fill="none" stroke="#00d455" stroke-width="2"/>
                                <rect x="75" y="75" width="15" height="15" rx="3" fill="none" stroke="#00d455" stroke-width="2"/>
                                <!-- Connection lines -->
                                <line x1="25" y1="18" x2="42" y2="42" stroke="#26d467" stroke-width="2"/>
                                <line x1="75" y1="18" x2="58" y2="42" stroke="#26d467" stroke-width="2"/>
                                <line x1="25" y1="82" x2="42" y2="58" stroke="#26d467" stroke-width="2"/>
                                <line x1="75" y1="82" x2="58" y2="58" stroke="#26d467" stroke-width="2"/>
                                <!-- Data packets -->
                                <circle cx="35" cy="30" r="2" fill="#26d467">
                                    <animateMotion dur="3s" repeatCount="indefinite">
                                        <path d="M0,0 L7,12"/>
                                    </animateMotion>
                                </circle>
                                <circle cx="65" cy="30" r="2" fill="#26d467">
                                    <animateMotion dur="3s" repeatCount="indefinite">
                                        <path d="M0,0 L-7,12"/>
                                    </animateMotion>
                                </circle>
                            </svg>
                        </div>
                        <h3>Custom Integrations</h3>
                    </div>
                </div>
            </section>

            <!-- CTA Final Section -->
            <section class="final-cta-section">
                <div class="cta-container">
                    <a href="https://calendly.com/darmcastiblanco/30min?month=2025-08" target="_blank" class="cta-main-button">
AGENDAR SESIÓN GRATUITA
                    </a>
                </div>
            </section>
        </div>
    </main>


    <!-- Audio para efectos -->
    <audio id="purringSound" preload="auto">
        <source src="assets/ronroneo.wav" type="audio/wav">
    </audio>

    <!-- Scripts -->
    <script src="js/env-config.js"></script>
    <script src="js/knowledge-base.js"></script>
    <script src="js/floating-cat.js"></script>
    <script>
        // CatDC.ai Sistema Inteligente v3.0 - Base/Caja con Control Total
        class CatDCAI {
            constructor() {
                this.catElement = document.getElementById('floatingCat');
                this.catHome = document.getElementById('catHome');
                this.catScore = document.getElementById('catScore');
                this.mouseX = 0;
                this.mouseY = 0;
                this.catX = window.innerWidth - 130;
                this.catY = window.innerHeight - 130;
                this.isFollowing = false;
                this.isAtHome = true;
                this.dragTimer = null;
                this.homeTimer = null;
                
                // Sistema de ratoncitos Matrix
                this.score = 0;
                this.matrixMice = [];
                this.mouseSpawnTimer = null;
                this.catchRadius = 50;
                
                // Timers para delays de hover
                this.hoverTimer = null;
                
                this.init();
            }
            
            init() {
                console.log('[SYSTEM] CatDC.ai v3.0 iniciado - Sistema Base/Caja + Ratoncitos Matrix');
                this.setupMouseTracking();
                this.setupDragToFollow();
                this.setupHomeZone();
                this.setupClickInteractions();
                this.setupMatrixMiceSystem();
                this.positionCat();
                this.goHome();
                this.animateCat();
            }
            
            positionCat() {
                this.catElement.style.display = 'block';
                this.catElement.style.position = 'fixed';
                this.catElement.style.zIndex = '1000';
                this.catElement.style.cursor = 'grab';
                this.catElement.style.pointerEvents = 'auto';
            }
            
            setupMouseTracking() {
                document.addEventListener('mousemove', (e) => {
                    this.mouseX = e.clientX;
                    this.mouseY = e.clientY;
                });
            }
            
            setupDragToFollow() {
                // Sistema de activación por hold 0.8s - Control total del usuario
                this.catElement.addEventListener('mousedown', (e) => {
                    e.preventDefault();
                    
                    if (!this.isFollowing && this.isAtHome) {
                        // Cambiar cursor para indicar que está siendo presionado
                        this.catElement.style.cursor = 'grabbing';
                        
                        // Iniciar timer de 0.8s para activación
                        this.dragTimer = setTimeout(() => {
                            this.activateFollowing();
                        }, 800);
                    }
                });
                
                this.catElement.addEventListener('mouseup', (e) => {
                    e.preventDefault();
                    
                    // Cancelar timer si se suelta antes de 0.8s
                    clearTimeout(this.dragTimer);
                    
                    if (!this.isFollowing) {
                        this.catElement.style.cursor = 'grab';
                        this.showMessage('<strong>Mantén presionado 0.8s</strong><br>para activar mi modo seguimiento', 'hint');
                    }
                });
                
                // Cancelar si el cursor sale del gato
                this.catElement.addEventListener('mouseleave', () => {
                    clearTimeout(this.dragTimer);
                    if (!this.isFollowing) {
                        this.catElement.style.cursor = 'grab';
                    }
                });
            }
            
            setupHomeZone() {
                // Detectar cuando el mouse está en la zona home
                this.catHome.addEventListener('mouseenter', () => {
                    if (this.isFollowing) {
                        this.showMessage('<strong>Zona de descanso</strong><br>Mantén el cursor aquí 2s para desactivar', 'hint');
                        
                        this.homeTimer = setTimeout(() => {
                            this.deactivateFollowing();
                            this.goHome();
                        }, 2000);
                    }
                });
                
                this.catHome.addEventListener('mouseleave', () => {
                    clearTimeout(this.homeTimer);
                    this.clearThoughtMessages();
                });
            }
            
            activateFollowing() {
                this.isFollowing = true;
                this.isAtHome = false;
                this.catElement.style.pointerEvents = 'none';
                this.showMessage('<strong>Modo activo</strong><br>Ahora puedo ayudarte con información', 'thought');
                
                // Añadir clase de estado activo
                this.catElement.classList.add('following');
                this.catHome.classList.add('active');
                
                // Cambiar cursors para indicar modo activo
                document.body.style.cursor = 'default';
                document.querySelectorAll('.service-item').forEach(item => {
                    item.style.cursor = 'help';
                });
            }
            
            deactivateFollowing() {
                this.isFollowing = false;
                this.catElement.style.pointerEvents = 'auto';
                this.catElement.classList.remove('following');
                this.catHome.classList.remove('active');
                this.showMessage('<strong>Modo descanso</strong><br>Mantén presionado 0.8s para activarme', 'thought');
                
                // Restaurar cursors
                document.querySelectorAll('.service-item').forEach(item => {
                    item.style.cursor = 'pointer';
                });
            }
            
            goHome() {
                this.isAtHome = true;
                const homeRect = this.catHome.getBoundingClientRect();
                this.catX = homeRect.left + homeRect.width/2 - 60;
                this.catY = homeRect.top + homeRect.height/2 - 60;
            }
            
            animateCat() {
                const followMouse = () => {
                    if (this.isFollowing) {
                        // Posicionar el gato al lado derecho-inferior del cursor
                        const offsetX = 30;  // Distancia horizontal del cursor
                        const offsetY = -20; // Distancia vertical del cursor
                        
                        const targetX = this.mouseX + offsetX;
                        const targetY = this.mouseY + offsetY;
                        
                        const dx = targetX - this.catX - 60;
                        const dy = targetY - this.catY - 60;
                        const smoothing = 0.15;
                        
                        this.catX += dx * smoothing;
                        this.catY += dy * smoothing;
                    } else if (this.isAtHome) {
                        // Mantener en home con pequeña animación flotante
                        const homeRect = this.catHome.getBoundingClientRect();
                        const targetX = homeRect.left + homeRect.width/2 - 60;
                        const targetY = homeRect.top + homeRect.height/2 - 60;
                        
                        const dx = targetX - this.catX;
                        const dy = targetY - this.catY;
                        
                        this.catX += dx * 0.1;
                        this.catY += dy * 0.1;
                    }
                    
                    this.catElement.style.left = `${this.catX}px`;
                    this.catElement.style.top = `${this.catY}px`;
                    
                    requestAnimationFrame(followMouse);
                };
                
                followMouse();
            }
            
            setupClickInteractions() {
                // Servicios - click para info (solo cuando está siguiendo)
                const serviceItems = document.querySelectorAll('.service-item');
                serviceItems.forEach(item => {
                    item.addEventListener('click', (e) => {
                        if (!this.isFollowing) return; // Solo funciona si está activo
                        
                        e.stopPropagation();
                        const service = item.dataset.service;
                        this.showDetailedInfo(service);
                    });
                });
                
                // Hero texts - hover para info (solo cuando está siguiendo)
                const heroTitle = document.querySelector('.hero-title');
                const greeting = document.querySelector('.greeting');
                
                if (heroTitle) {
                    heroTitle.addEventListener('mouseenter', () => {
                        if (!this.isFollowing) return; // Solo funciona si está activo
                        
                        this.hoverTimer = setTimeout(() => {
                            this.showMessage('<strong>Daniel Castiblanco</strong><br>Experto en IA con +10 años de experiencia implementando soluciones prácticas para empresas y startups.', 'thought');
                        }, 1000);
                    });
                    
                    heroTitle.addEventListener('mouseleave', () => {
                        if (!this.isFollowing) return;
                        clearTimeout(this.hoverTimer);
                        this.clearThoughtMessages();
                    });
                }
                
                if (greeting) {
                    greeting.addEventListener('mouseenter', () => {
                        if (!this.isFollowing) return; // Solo funciona si está activo
                        
                        this.hoverTimer = setTimeout(() => {
                            this.showMessage('<strong>Implementación de IA</strong><br>Desde chatbots simples hasta sistemas complejos de orquestación de agentes. Soluciones adaptadas a cada necesidad.', 'thought');
                        }, 1000);
                    });
                    
                    greeting.addEventListener('mouseleave', () => {
                        if (!this.isFollowing) return;
                        clearTimeout(this.hoverTimer);
                        this.clearThoughtMessages();
                    });
                }
                
                // Botón agendar - hover para info (solo cuando está siguiendo)
                const ctaButton = document.querySelector('.cta-main-button');
                if (ctaButton) {
                    ctaButton.addEventListener('mouseenter', () => {
                        if (!this.isFollowing) return; // Solo funciona si está activo
                        
                        this.hoverTimer = setTimeout(() => {
                            this.showMessage('<strong>Primera sesión gratuita</strong><br>30 minutos para entender tu proyecto y proponer soluciones específicas. Sin compromiso.', 'thought');
                        }, 1000);
                    });
                    
                    ctaButton.addEventListener('mouseleave', () => {
                        if (!this.isFollowing) return;
                        clearTimeout(this.hoverTimer);
                        this.clearThoughtMessages();
                    });
                }
                
                // Click fuera para limpiar mensajes
                document.addEventListener('click', (e) => {
                    if (!e.target.closest('.service-item') && 
                        !e.target.closest('.cat-floating-message')) {
                        this.clearMessages();
                    }
                });
            }
            
            clearMessages() {
                const existingMessages = document.querySelectorAll('.cat-floating-message');
                existingMessages.forEach(msg => {
                    msg.style.transition = 'all 0.2s ease-out';
                    msg.style.opacity = '0';
                    msg.style.transform = 'scale(0.9)';
                    setTimeout(() => msg.remove(), 200);
                });
            }
            
            clearThoughtMessages() {
                const thoughts = document.querySelectorAll('.cat-floating-message[data-type="thought"]');
                thoughts.forEach(msg => {
                    msg.style.transition = 'all 0.3s ease-out';
                    msg.style.opacity = '0';
                    msg.style.transform = 'scale(0.8) translateY(-10px)';
                    setTimeout(() => msg.remove(), 300);
                });
            }
            
            showDetailedInfo(service) {
                // Limpiar mensajes anteriores primero
                this.clearMessages();
                
                const detailedInfo = {
                    'rag': '<strong>RAG Systems</strong><br>Implementación de sistemas de recuperación de información que permiten a la IA acceder y consultar documentos específicos en tiempo real.',
                    
                    'agents': '<strong>Agent Orchestration</strong><br>Coordinación de múltiples agentes IA especializados que trabajan de forma colaborativa para resolver problemas complejos.',
                    
                    'automation': '<strong>Process Automation</strong><br>Automatización inteligente de flujos de trabajo empresariales que comprende contexto y toma decisiones adaptativas.',
                    
                    'local-llm': '<strong>Local LLMs</strong><br>Implementación de modelos de IA que funcionan completamente en tu infraestructura para máxima privacidad y control.',
                    
                    'finops': '<strong>FinOps AI</strong><br>Estrategias de optimización de costos para implementaciones de IA, incluyendo análisis de ROI y eficiencia operacional.',
                    
                    'integrations': '<strong>Custom Integrations</strong><br>Desarrollo de conexiones personalizadas entre sistemas de IA y la infraestructura tecnológica existente.'
                };
                
                // Esperar un poco antes de mostrar el nuevo mensaje
                setTimeout(() => {
                    this.showMessage(detailedInfo[service] || 'Servicio especializado de IA', 'detailed');
                }, 250);
            }
            
            
            showMessage(message, type = 'default') {
                // Limpiar mensajes del mismo tipo
                if (type === 'thought' || type === 'activation' || type === 'hint') {
                    this.clearThoughtMessages();
                } else if (type !== 'detailed') {
                    this.clearMessages();
                }
                
                // Crear nuevo mensaje flotante con ondas mentales
                const messageDiv = document.createElement('div');
                messageDiv.className = 'cat-floating-message';
                messageDiv.dataset.type = type;
                
                // Agregar ondas mentales si es tipo thought
                const waveEffect = type === 'thought' ? `
                    <div class="thought-waves">
                        <div class="wave wave1"></div>
                        <div class="wave wave2"></div>
                        <div class="wave wave3"></div>
                    </div>
                ` : '';
                
                messageDiv.innerHTML = `
                    ${waveEffect}
                    <div class="floating-message-content">
                        ${message}
                    </div>
                `;
                
                // Posicionar junto al gato con detección inteligente
                const catRect = this.catElement.getBoundingClientRect();
                messageDiv.style.position = 'fixed';
                
                // Temporalmente añadir para medir
                messageDiv.style.visibility = 'hidden';
                messageDiv.style.maxWidth = type === 'detailed' ? '350px' : '280px';
                document.body.appendChild(messageDiv);
                
                // Obtener dimensiones del mensaje
                const msgRect = messageDiv.getBoundingClientRect();
                const msgWidth = msgRect.width;
                const msgHeight = msgRect.height;
                
                // Calcular mejor posición
                let finalX, finalY;
                const padding = 20;
                const catCenterX = catRect.left + catRect.width / 2;
                const catCenterY = catRect.top + catRect.height / 2;
                
                // Preferir arriba-izquierda del gato
                if (catCenterX - msgWidth - padding > 0 && catCenterY - msgHeight - padding > 0) {
                    // Arriba-izquierda
                    finalX = catCenterX - msgWidth - padding;
                    finalY = catCenterY - msgHeight - padding;
                } else if (catCenterX + catRect.width/2 + padding + msgWidth < window.innerWidth && catCenterY - msgHeight - padding > 0) {
                    // Arriba-derecha
                    finalX = catCenterX + catRect.width/2 + padding;
                    finalY = catCenterY - msgHeight - padding;
                } else if (catCenterX - msgWidth - padding > 0) {
                    // Izquierda
                    finalX = catCenterX - msgWidth - padding;
                    finalY = catCenterY - msgHeight/2;
                } else {
                    // Derecha o centro si no hay espacio
                    finalX = Math.min(catCenterX + catRect.width/2 + padding, window.innerWidth - msgWidth - padding);
                    finalY = catCenterY - msgHeight/2;
                }
                
                // Asegurar que no se salga de pantalla
                finalX = Math.max(padding, Math.min(finalX, window.innerWidth - msgWidth - padding));
                finalY = Math.max(padding, Math.min(finalY, window.innerHeight - msgHeight - padding));
                
                // Aplicar posición final
                messageDiv.style.left = `${finalX}px`;
                messageDiv.style.top = `${finalY}px`;
                messageDiv.style.visibility = 'visible';
                
                if (type === 'detailed') {
                    messageDiv.classList.add('detailed-message');
                } else if (type === 'thought') {
                    messageDiv.classList.add('thought-message');
                }
                
                messageDiv.style.zIndex = '1002';
                messageDiv.style.opacity = '0';
                messageDiv.style.transform = 'scale(0) translateY(20px)';
                
                // Animación de entrada con efecto de onda mental
                requestAnimationFrame(() => {
                    if (type === 'thought') {
                        messageDiv.style.transition = 'all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
                        messageDiv.style.transform = 'scale(1) translateY(0) rotate(0deg)';
                    } else {
                        messageDiv.style.transition = 'all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)';
                        messageDiv.style.transform = 'scale(1) translateY(0)';
                    }
                    messageDiv.style.opacity = '1';
                });
                
                // Auto-remover con fade out
                const duration = type === 'detailed' ? 7000 : type === 'thought' ? 4000 : 5000;
                setTimeout(() => {
                    if (messageDiv.parentNode) {
                        messageDiv.style.transition = 'all 0.3s ease-out';
                        messageDiv.style.opacity = '0';
                        messageDiv.style.transform = 'scale(0.8) translateY(-10px)';
                        setTimeout(() => messageDiv.remove(), 300);
                    }
                }, duration);
            }
            
            // ========================
            // SISTEMA RATONCITOS MATRIX
            // ========================
            
            setupMatrixMiceSystem() {
                // Iniciar spawn de ratoncitos cada 3-8 segundos
                this.startMouseSpawning();
            }
            
            startMouseSpawning() {
                const spawnMouse = () => {
                    if (this.matrixMice.length < 5) { // Máximo 5 ratoncitos en pantalla
                        this.spawnMatrixMouse();
                    }
                    
                    // Programar siguiente spawn (entre 3 y 8 segundos)
                    const nextSpawnDelay = Math.random() * 5000 + 3000;
                    this.mouseSpawnTimer = setTimeout(spawnMouse, nextSpawnDelay);
                };
                
                spawnMouse();
            }
            
            spawnMatrixMouse() {
                // Crear ratoncito de números binarios
                const mouse = this.createBinaryMouse();
                this.matrixMice.push(mouse);
                document.body.appendChild(mouse.element);
                
                // Animar el ratoncito
                this.animateMatrixMouse(mouse);
            }
            
            createBinaryMouse() {
                const mouse = document.createElement('div');
                mouse.className = 'matrix-mouse';
                
                // Posición inicial aleatoria en el borde superior
                const startX = Math.random() * (window.innerWidth - 60);
                const endX = Math.random() * (window.innerWidth - 60);
                
                // Crear ratoncito con números binarios
                const binaryBody = this.generateBinaryMouseShape();
                mouse.innerHTML = binaryBody;
                
                // Estilos
                mouse.style.position = 'fixed';
                mouse.style.left = startX + 'px';
                mouse.style.top = '-40px';
                mouse.style.zIndex = '999';
                mouse.style.pointerEvents = 'none';
                mouse.style.color = '#00ff41';
                mouse.style.fontFamily = 'var(--font-mono)';
                mouse.style.fontSize = '8px';
                mouse.style.lineHeight = '0.8';
                mouse.style.fontWeight = 'bold';
                mouse.style.filter = 'drop-shadow(0 0 6px rgba(0, 255, 65, 0.6))';
                mouse.style.animation = 'mouseGlow 2s ease-in-out infinite';
                
                return {
                    element: mouse,
                    x: startX,
                    y: -40,
                    targetX: endX,
                    targetY: window.innerHeight + 40,
                    speed: Math.random() * 2 + 1, // Velocidad entre 1-3
                    id: Date.now() + Math.random()
                };
            }
            
            generateBinaryMouseShape() {
                // Generar forma de ratón con números binarios
                const chars = ['0', '1'];
                const getRandomChar = () => chars[Math.floor(Math.random() * chars.length)];
                
                return `
                    <div style="text-align: center;">
                        <div>${getRandomChar()}${getRandomChar()}</div>
                        <div>${getRandomChar()}${getRandomChar()}${getRandomChar()}${getRandomChar()}</div>
                        <div>${getRandomChar()}${getRandomChar()}${getRandomChar()}</div>
                        <div style="margin-left: 15px;">${getRandomChar()}</div>
                    </div>
                `;
            }
            
            animateMatrixMouse(mouse) {
                const animate = () => {
                    // Movimiento diagonal hacia abajo
                    const progress = (mouse.y + 40) / (window.innerHeight + 80);
                    
                    mouse.x = mouse.x + (mouse.targetX - mouse.x) * 0.01;
                    mouse.y += mouse.speed;
                    
                    mouse.element.style.left = mouse.x + 'px';
                    mouse.element.style.top = mouse.y + 'px';
                    
                    // Verificar captura por el gato
                    if (this.isFollowing) {
                        const distance = Math.sqrt(
                            Math.pow(mouse.x + 20 - (this.catX + 60), 2) + 
                            Math.pow(mouse.y + 15 - (this.catY + 60), 2)
                        );
                        
                        if (distance < this.catchRadius) {
                            this.catchMatrixMouse(mouse);
                            return;
                        }
                    }
                    
                    // Continuar animación si no ha salido de pantalla
                    if (mouse.y < window.innerHeight + 40) {
                        requestAnimationFrame(animate);
                    } else {
                        // Remover ratoncito que salió de pantalla
                        this.removeMatrixMouse(mouse);
                    }
                };
                
                animate();
            }
            
            catchMatrixMouse(mouse) {
                // Incrementar puntuación
                this.score++;
                this.updateScore();
                
                // Crear animación de captura Matrix
                this.createMatrixCatchEffect(mouse.x + 20, mouse.y + 15);
                
                // Remover ratoncito
                this.removeMatrixMouse(mouse);
                
                // Mensaje de captura
                this.showMessage(`<strong>Capturado</strong><br>+1 punto - Score: ${this.score}`, 'activation');
            }
            
            createMatrixCatchEffect(x, y) {
                // Efecto de disolución Matrix cuando el gato atrapa el ratón
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        const digit = document.createElement('div');
                        digit.textContent = Math.random() < 0.5 ? '0' : '1';
                        digit.style.position = 'fixed';
                        digit.style.left = `${x + (Math.random() - 0.5) * 30}px`;
                        digit.style.top = `${y}px`;
                        digit.style.color = '#00ff41';
                        digit.style.fontSize = '12px';
                        digit.style.fontFamily = 'var(--font-mono)';
                        digit.style.fontWeight = 'bold';
                        digit.style.zIndex = '9998';
                        digit.style.pointerEvents = 'none';
                        digit.style.opacity = '1';
                        
                        document.body.appendChild(digit);
                        
                        // Animar disolución
                        let startTime = Date.now();
                        const animate = () => {
                            const elapsed = Date.now() - startTime;
                            const progress = elapsed / 1500;
                            
                            if (progress < 1) {
                                digit.style.top = `${y + progress * 150}px`;
                                digit.style.opacity = `${1 - progress}`;
                                digit.style.transform = `scale(${1 - progress * 0.5})`;
                                requestAnimationFrame(animate);
                            } else {
                                digit.remove();
                            }
                        };
                        animate();
                    }, i * 30);
                }
            }
            
            removeMatrixMouse(mouse) {
                // Remover del array
                const index = this.matrixMice.findIndex(m => m.id === mouse.id);
                if (index > -1) {
                    this.matrixMice.splice(index, 1);
                }
                
                // Remover elemento del DOM
                if (mouse.element.parentNode) {
                    mouse.element.remove();
                }
            }
            
            updateScore() {
                if (this.catScore) {
                    this.catScore.textContent = `Score: ${this.score}`;
                    
                    // Animación de puntuación
                    this.catScore.style.transform = 'scale(1.2)';
                    this.catScore.style.color = '#00ff41';
                    setTimeout(() => {
                        this.catScore.style.transform = 'scale(1)';
                        this.catScore.style.color = '';
                    }, 300);
                }
            }
        }
        
        // Inicializar cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', () => {
            window.catDCAI = new CatDCAI();
        });
    </script>
</body>
</html>