import { Injectable } from '@angular/core';
import { Service, ConsultationProcess } from '../models/service.model';

export interface ServiceDetail {
  id: string;
  title: string;
  description: string;
  features: {
    icon: string;
    iconType?: 'emoji' | 'svg' | 'lucide';
    animation?: string;
    text: string;
  }[];
  technologies: string[];
}

@Injectable({
  providedIn: 'root'
})
export class ServicesDataService {
  private services: Service[] = [
    {
      id: 'rag-systems',
      title: 'RAG Systems',
      shortDescription: 'Sistemas de recuperaci√≥n de informaci√≥n',
      fullDescription: 'Retrieval-Augmented Generation con evaluaci√≥n continua y guardrails. Sistemas que combinan bases de conocimiento con IA generativa para respuestas precisas y contextualizadas.',
      features: [
        'B√∫squeda sem√°ntica avanzada',
        'Evaluaci√≥n continua de calidad',
        'Guardrails y validaci√≥n',
        'Integraci√≥n con m√∫ltiples fuentes'
      ]
    },
    {
      id: 'agent-orchestration',
      title: 'Agent Orchestration',
      shortDescription: 'Coordinaci√≥n de agentes IA',
      fullDescription: 'Sistemas multi-agente con memoria y herramientas especializadas. Orquestaci√≥n completa de workflows con agentes aut√≥nomos que colaboran para resolver problemas complejos.',
      features: [
        'Agentes especializados por tarea',
        'Memoria persistente compartida',
        'Herramientas y APIs integradas',
        'Workflows automatizados'
      ]
    },
    {
      id: 'process-automation',
      title: 'Process Automation',
      shortDescription: 'Automatizaci√≥n de procesos',
      fullDescription: 'Automatizaci√≥n inteligente de procesos repetitivos con IA. Desde clasificaci√≥n de tickets hasta generaci√≥n de reportes autom√°ticos.',
      features: [
        'Automatizaci√≥n de soporte L1',
        'Clasificaci√≥n inteligente',
        'Generaci√≥n de reportes',
        'Integraci√≥n con sistemas existentes'
      ]
    },
    {
      id: 'local-llms',
      title: 'Local LLMs',
      shortDescription: 'Modelos privados en tu infraestructura',
      fullDescription: 'Deployment on-premise para m√°xima privacidad y control de costos. LLMs locales que nunca env√≠an datos fuera de tu infraestructura.',
      features: [
        'Privacidad total de datos',
        'Control completo de costos',
        'Personalizaci√≥n del modelo',
        'Sin dependencias externas'
      ]
    },
    {
      id: 'finops-ai',
      title: 'FinOps AI',
      shortDescription: 'Optimizaci√≥n de costos IA',
      fullDescription: 'Optimizaci√≥n de costos de inferencia y monitoreo de ROI. Control total sobre el gasto en IA con m√©tricas claras de retorno.',
      features: [
        'Monitoreo de costos en tiempo real',
        'Optimizaci√≥n de prompts',
        'ROI por caso de uso',
        'Alertas de presupuesto'
      ]
    },
    {
      id: 'custom-integrations',
      title: 'Custom Integrations',
      shortDescription: 'Integraciones personalizadas',
      fullDescription: 'Conexi√≥n de sistemas existentes con capacidades de IA. Integraciones a medida para tu stack tecnol√≥gico espec√≠fico.',
      features: [
        'APIs personalizadas',
        'Webhooks y eventos',
        'Conectores espec√≠ficos',
        'Migraci√≥n de datos'
      ]
    }
  ];

  private consultationProcess: ConsultationProcess = {
    discovery: {
      duration: '30 minutos',
      description: 'Sesi√≥n gratuita para entender tu caso',
      deliverable: '3 oportunidades de IA priorizadas'
    },
    pilot: {
      duration: '2-4 semanas',
      description: 'Implementaci√≥n de un caso de uso espec√≠fico',
      deliverable: 'Sistema funcional con m√©tricas'
    },
    scale: {
      duration: 'Seg√∫n resultados',
      description: 'Expansi√≥n basada en ROI demostrado',
      deliverable: 'Sistema en producci√≥n'
    }
  };

  private profileData = {
    name: 'Daniel Castiblanco',
    title: 'Consultor de IA',
    subtitle: 'Orquestaci√≥n inteligente y automatizaci√≥n'
  };

  private ctaData = {
    buttonText: 'AGENDAR SESI√ìN GRATUITA',
    consultationUrl: 'https://calendly.com/danielcastiblanco',
    message: '30 minutos para identificar 3 oportunidades de IA en tu negocio'
  };

  private servicesDetail: ServiceDetail[] = [
    {
      id: 'rag-systems',
      title: 'RAG SYSTEMS',
      description: 'Sistemas de Recuperaci√≥n y Generaci√≥n Aumentada que conectan modelos de IA con bases de conocimiento empresarial, permitiendo respuestas contextualizadas y precisas basadas en documentaci√≥n espec√≠fica.',
      features: [
        { 
          icon: 'heart',
          iconType: 'lucide',
          animation: 'heartbeat',
          text: 'Indexaci√≥n vectorial de documentos empresariales' 
        },
        { 
          icon: 'eye',
          iconType: 'lucide',
          animation: 'blink',
          text: 'B√∫squeda sem√°ntica avanzada con embeddings' 
        },
        { 
          icon: 'brain',
          iconType: 'lucide',
          animation: 'pulse',
          text: 'Integraci√≥n con LLMs para respuestas contextuales' 
        },
        { 
          icon: 'bar-chart',
          iconType: 'lucide',
          animation: 'bars-move',
          text: 'Analytics de uso y relevancia de informaci√≥n' 
        },
        { 
          icon: 'shield',
          iconType: 'lucide',
          animation: 'glow',
          text: 'Control de acceso granular a informaci√≥n sensible' 
        }
      ],
      technologies: ['LangChain', 'Pinecone', 'ChromaDB', 'OpenAI Embeddings', 'FAISS', 'PostgreSQL pgvector']
    },
    {
      id: 'agent-orchestration',
      title: 'AGENT ORCHESTRATION',
      description: 'Coordinaci√≥n inteligente de m√∫ltiples agentes de IA especializados que trabajan en conjunto para resolver problemas complejos y automatizar flujos de trabajo empresariales.',
      features: [
        { icon: 'ü§ñ', iconType: 'emoji', text: 'Dise√±o de agentes especializados por dominio' },
        { icon: 'üîÑ', iconType: 'emoji', text: 'Orquestaci√≥n de tareas multi-agente' },
        { icon: 'üí¨', iconType: 'emoji', text: 'Comunicaci√≥n inter-agente con protocolos definidos' },
        { icon: 'üìà', iconType: 'emoji', text: 'Monitoreo de rendimiento y optimizaci√≥n continua' },
        { icon: 'üéØ', iconType: 'emoji', text: 'Routing inteligente basado en capacidades' }
      ],
      technologies: ['AutoGPT', 'LangGraph', 'CrewAI', 'Apache Airflow', 'Temporal', 'Microsoft AutoGen']
    },
    {
      id: 'process-automation',
      title: 'PROCESS AUTOMATION',
      description: 'Automatizaci√≥n end-to-end de procesos empresariales mediante IA, reduciendo trabajo manual y mejorando eficiencia operativa con flujos de trabajo inteligentes.',
      features: [
        { icon: '‚öôÔ∏è', iconType: 'emoji', text: 'Mapeo y digitalizaci√≥n de procesos existentes' },
        { icon: 'üöÄ', iconType: 'emoji', text: 'Automatizaci√≥n con RPA + IA conversacional' },
        { icon: 'üìã', iconType: 'emoji', text: 'Gesti√≥n de excepciones con decisiones inteligentes' },
        { icon: 'üîî', iconType: 'emoji', text: 'Alertas proactivas y escalamiento autom√°tico' },
        { icon: 'üìä', iconType: 'emoji', text: 'Dashboard de m√©tricas y KPIs en tiempo real' }
      ],
      technologies: ['UiPath', 'Zapier', 'Make', 'n8n', 'Power Automate', 'Python Automation']
    },
    {
      id: 'local-llms',
      title: 'LOCAL LLMS',
      description: 'Implementaci√≥n y optimizaci√≥n de modelos de lenguaje ejecutados localmente, garantizando privacidad total de datos y cumplimiento regulatorio sin dependencias cloud.',
      features: [
        { icon: 'üñ•Ô∏è', iconType: 'emoji', text: 'Deployment on-premise de modelos open source' },
        { icon: 'üîê', iconType: 'emoji', text: 'Privacidad total - datos nunca salen de tu infraestructura' },
        { icon: '‚ö°', iconType: 'emoji', text: 'Optimizaci√≥n de inferencia con quantization' },
        { icon: 'üéõÔ∏è', iconType: 'emoji', text: 'Fine-tuning con datos propietarios' },
        { icon: 'üì±', iconType: 'emoji', text: 'Edge deployment para aplicaciones m√≥viles' }
      ],
      technologies: ['Llama 3', 'Mistral', 'Ollama', 'LocalAI', 'vLLM', 'GGUF/GGML', 'TensorRT']
    },
    {
      id: 'finops-ai',
      title: 'FINOPS AI',
      description: 'Optimizaci√≥n financiera de recursos cloud e IA mediante an√°lisis predictivo, identificando oportunidades de ahorro y mejorando el ROI de inversiones tecnol√≥gicas.',
      features: [
        { icon: 'üí∞', iconType: 'emoji', text: 'An√°lisis de costos cloud multi-proveedor' },
        { icon: 'üìâ', iconType: 'emoji', text: 'Detecci√≥n de recursos subutilizados con ML' },
        { icon: 'üéØ', iconType: 'emoji', text: 'Recomendaciones de rightsizing autom√°ticas' },
        { icon: 'üìä', iconType: 'emoji', text: 'Forecasting de gastos con series temporales' },
        { icon: '‚ö°', iconType: 'emoji', text: 'Optimizaci√≥n de costos de inferencia LLM' }
      ],
      technologies: ['AWS Cost Explorer', 'Azure Cost Management', 'Kubecost', 'CloudHealth', 'Prophet', 'Custom Analytics']
    },
    {
      id: 'custom-integrations',
      title: 'CUSTOM INTEGRATIONS',
      description: 'Desarrollo de integraciones personalizadas que conectan sistemas legacy con tecnolog√≠as de IA modernas, creando ecosistemas tecnol√≥gicos cohesivos y eficientes.',
      features: [
        { icon: 'üîå', iconType: 'emoji', text: 'APIs REST/GraphQL con capacidades IA' },
        { icon: 'üîÑ', iconType: 'emoji', text: 'ETL pipelines inteligentes con validaci√≥n ML' },
        { icon: 'üì°', iconType: 'emoji', text: 'Webhooks y event-driven architectures' },
        { icon: 'üõ°Ô∏è', iconType: 'emoji', text: 'Middleware de seguridad y autenticaci√≥n' },
        { icon: 'üìà', iconType: 'emoji', text: 'Real-time data streaming con procesamiento IA' }
      ],
      technologies: ['FastAPI', 'Apache Kafka', 'Redis', 'RabbitMQ', 'Airbyte', 'Mulesoft', 'Custom Python/Node.js']
    }
  ];

  constructor() { }

  getServices(): Service[] {
    return this.services;
  }

  getService(id: string): Service | undefined {
    return this.services.find(s => s.id === id);
  }

  getConsultationProcess(): ConsultationProcess {
    return this.consultationProcess;
  }

  getProfileData() {
    return this.profileData;
  }

  getCtaData() {
    return this.ctaData;
  }

  getServiceDetail(id: string): ServiceDetail | undefined {
    return this.servicesDetail.find(s => s.id === id);
  }

  getAllServiceDetails(): ServiceDetail[] {
    return this.servicesDetail;
  }
}
